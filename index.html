<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forecasting for mlr3 â€¢ mlr3temporal</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Forecasting for mlr3">
<meta property="og:description" content="Implements tasks, learners, resamplings and measures for
    forcasting tasks.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mlr3temporal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlr-org/mlr3temporal/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/" class="external-link">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/" class="external-link">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="mlr3temporal">mlr3temporal<a class="anchor" aria-label="anchor" href="#mlr3temporal"></a>
</h1></div>
<p>Temporal prediction / forecasting for mlr3</p>
<!-- badges: start -->

<p>Time series analysis accounts for the fact that data points taken over time may have an internal structure (such as autocorrelation, trend or seasonal variation) that should be accounted for. This package extends the <a href="https://github.com/mlr-org/mlr3" class="external-link">mlr3</a> package framework by time-series prediction and resampling methods.</p>
<p><img src="reference/figures/multi_timeseries.png"><!-- --></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"mlr-org/mlr3temporal"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="forecasting">Forecasting<a class="anchor" aria-label="anchor" href="#forecasting"></a>
</h2>
<p>Currently the following methods are implemented:</p>
<div class="section level3">
<h3 id="tasks">Tasks<a class="anchor" aria-label="anchor" href="#tasks"></a>
</h3>
<table class="table">
<colgroup>
<col width="64%">
<col width="17%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th>Id</th>
<th>Code</th>
<th>Type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_tasks_airpassengers.html">airpassengers</a></td>
<td><code>tsk("airpassengers")</code></td>
<td>Univariate Timeseries</td>
</tr>
<tr class="even">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_tasks_petrol.html">petrol</a></td>
<td><code>tsk("petrol")</code></td>
<td>Multivariate Timeseries</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="learners">Learners<a class="anchor" aria-label="anchor" href="#learners"></a>
</h3>
<table class="table">
<colgroup>
<col width="55%">
<col width="12%">
<col width="31%">
</colgroup>
<thead><tr class="header">
<th>Id</th>
<th>Learner</th>
<th>Package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_learners_regr.auto_arima.html">forecast.auto_arima</a></td>
<td>Auto Arima</td>
<td><a href="https://cran.r-project.org/package=forecast" class="external-link">forecast</a></td>
</tr>
<tr class="even">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_learners_regr.arima.html">forecast.arima</a></td>
<td>Arima</td>
<td><a href="https://cran.r-project.org/package=forecast" class="external-link">forecast</a></td>
</tr>
<tr class="odd">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_learners_regr.average.html">forecast.average</a></td>
<td>Average</td>
<td>base</td>
</tr>
<tr class="even">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_learners_regr.VAR.html">forecast.VAR</a></td>
<td>Vector Autoregression</td>
<td><a href="https://cran.r-project.org/package=vars" class="external-link">vars</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="measures">Measures<a class="anchor" aria-label="anchor" href="#measures"></a>
</h3>
<table class="table">
<colgroup>
<col width="69%">
<col width="23%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th>Id</th>
<th>Measure</th>
<th>Package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_measures_forecast.mae.html">forecast.mae</a></td>
<td>Mean Absolute Error</td>
<td>base</td>
</tr>
<tr class="even">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_measures_forecast.mape.html">forecast.mape</a></td>
<td>Mean Absolute Percentage Error</td>
<td>base</td>
</tr>
<tr class="odd">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_measures_forecast.mse.html">forecast.mse</a></td>
<td>Mean Squared Error</td>
<td>base</td>
</tr>
<tr class="even">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_measures_forecast.rmse.html">forecast.rmse</a></td>
<td>Root Mean Squared Error</td>
<td>base</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="resampling-methods">Resampling Methods<a class="anchor" aria-label="anchor" href="#resampling-methods"></a>
</h3>
<table class="table">
<colgroup>
<col width="71%">
<col width="22%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th>Id</th>
<th>Resampling</th>
<th>Package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_resamplings_forecast_holdout.html">forecast_holdout</a></td>
<td>Holdout</td>
<td>base</td>
</tr>
<tr class="even">
<td><a href="https://mlr3temporal.mlr-org.com/reference/mlr_resamplings_forecast_cv.html">forecast_cv</a></td>
<td>Rolling Window CrossValidation</td>
<td>base</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="code-example">Code Example<a class="anchor" aria-label="anchor" href="#code-example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3temporal.mlr-org.com">mlr3temporal</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">task</span> <span class="op">=</span> <span class="fu">tsk</span><span class="op">(</span><span class="st">"airpassengers"</span><span class="op">)</span></span>
<span><span class="va">learner</span> <span class="op">=</span> <span class="fu">lrn</span><span class="op">(</span><span class="st">"forecast.auto_arima"</span><span class="op">)</span></span>
<span><span class="va">learner</span><span class="op">$</span><span class="fu">train</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">predictions</span> <span class="op">=</span> <span class="va">learner</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="fl">21</span><span class="op">:</span><span class="fl">55</span><span class="op">)</span></span>
<span><span class="va">measure</span> <span class="op">=</span> <span class="fu">msr</span><span class="op">(</span><span class="st">"forecast.mae"</span><span class="op">)</span></span>
<span><span class="va">predictions</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="va">measure</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="resampling">Resampling<a class="anchor" aria-label="anchor" href="#resampling"></a>
</h2>
<div class="section level4">
<h4 id="holdout">Holdout<a class="anchor" aria-label="anchor" href="#holdout"></a>
</h4>
<p>Split data into a training set and a test set. Parameter <code>ratio</code> determines the ratio of observation going into the training set (default: 2/3).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">task</span> <span class="op">=</span> <span class="fu">tsk</span><span class="op">(</span><span class="st">"petrol"</span><span class="op">)</span></span>
<span><span class="va">learner</span> <span class="op">=</span> <span class="fu">lrn</span><span class="op">(</span><span class="st">"forecast.VAR"</span><span class="op">)</span></span>
<span><span class="va">resampling</span> <span class="op">=</span> <span class="fu">rsmp</span><span class="op">(</span><span class="st">"forecast_holdout"</span>, ratio <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="va">rr</span> <span class="op">=</span> <span class="fu">resample</span><span class="op">(</span><span class="va">task</span>, <span class="va">learner</span>, <span class="va">resampling</span>, store_models <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">rr</span><span class="op">$</span><span class="fu">aggregate</span><span class="op">(</span><span class="fu">msr</span><span class="op">(</span><span class="st">"forecast.mae"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="rolling-window-cv">Rolling Window CV<a class="anchor" aria-label="anchor" href="#rolling-window-cv"></a>
</h4>
<p>Splits data using a <code>folds</code>-folds (default: 10 folds) rolling window cross-validation.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">task</span> <span class="op">=</span> <span class="fu">tsk</span><span class="op">(</span><span class="st">"petrol"</span><span class="op">)</span></span>
<span><span class="va">learner</span> <span class="op">=</span> <span class="fu">lrn</span><span class="op">(</span><span class="st">"forecast.VAR"</span><span class="op">)</span></span>
<span><span class="va">resampling</span> <span class="op">=</span> <span class="fu">rsmp</span><span class="op">(</span><span class="st">"forecast_cv"</span>, folds <span class="op">=</span> <span class="fl">5</span>, fixed_window <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">rr</span> <span class="op">=</span> <span class="fu">resample</span><span class="op">(</span><span class="va">task</span>, <span class="va">learner</span>, <span class="va">resampling</span>, store_models <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">rr</span><span class="op">$</span><span class="fu">aggregate</span><span class="op">(</span><span class="fu">msr</span><span class="op">(</span><span class="st">"forecast.mae"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="more-resources">More resources<a class="anchor" aria-label="anchor" href="#more-resources"></a>
</h2>
<p>For detailed information on how to get started with <code>mlr3</code> please read the <a href="https://mlr3book.mlr-org.com/" class="external-link">mlr3 book</a> and consult the <a href="https://mlr3temporal.mlr-org.com/articles/vignettes.html">Vignette</a> for more examples of mlr3temporal.</p>
</div>
<div class="section level2">
<h2 id="contributing-to-mlr3temporal">Contributing to mlr3temporal<a class="anchor" aria-label="anchor" href="#contributing-to-mlr3temporal"></a>
</h2>
<p>Please consult the <a href="https://github.com/mlr-org/mlr3/wiki/" class="external-link">wiki</a> for a <a href="https://github.com/mlr-org/mlr3/wiki/Style-Guide" class="external-link">style guide</a>, a <a href="https://github.com/mlr-org/mlr3/wiki/Roxygen-Guide" class="external-link">roxygen guide</a> and a <a href="https://github.com/mlr-org/mlr3/wiki/PR-Guidelines" class="external-link">pull request guide</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mlr-org/mlr3temporal/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mlr-org/mlr3temporal/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/LGPL-3" class="external-link">LGPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mlr3temporal</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michel Lang <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0001-9754-0393" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Florian Pfisterer <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8867-762X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Cornelia Gruber <br><small class="roles"> Author </small>  </li>
<li>Johannes Nawrath <br><small class="roles"> Author </small>  </li>
<li>Ava Arshadipour <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mlr-org/mlr3temporal/actions/workflows/r-cmd-check.yml" class="external-link"><img src="https://github.com/mlr-org/mlr3temporal/actions/workflows/r-cmd-check.yml/badge.svg" alt="r-cmd-check"></a></li>
<li><a href="https://cran.r-project.org/package=mlr3temporal" class="external-link"><img src="https://www.r-pkg.org/badges/version-ago/mlr3temporal" alt="CRAN Status Badge"></a></li>
<li><a href="https://codecov.io/gh/mlr-org/mlr3temporal" class="external-link"><img src="https://codecov.io/gh/mlr-org/mlr3temporal/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://stackoverflow.com/questions/tagged/mlr3" class="external-link"><img src="https://img.shields.io/badge/stackoverflow-mlr3-orange.svg" alt="StackOverflow"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Michel Lang, Florian Pfisterer, Cornelia Gruber, Johannes Nawrath, Ava Arshadipour.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
